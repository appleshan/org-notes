从内核看软件内存

对于内核来说，软件的内存使用量分两种，一种是占用的量，比如申请内存以后在里面存放了数据就属于占用；另一种是申请的量，比如申请内存以后没有写入数据。 

其中的申请量是检测虚拟内存是否足够的依据。比如在 Windows 下，你有 8G 物理内存和 4G 分页文件，那么申请量最大不能超过 12G，超过了内核就会开始杀进程。Linux 下有 Overcommit 机制，可以让你适当多申请一些内存，超过物理内存和交换区的总和，但是这也是有上限的。低价 VPS 上开 MySQL 经常被杀进程就是因为 MySQL 申请量超过了 Overcommit 的上限。 

有钱可以加物理内存，没钱的话还是加 Swap 比较好，对于申请且没有使用的内存部分，分页到 Swap 是不会影响性能的。
